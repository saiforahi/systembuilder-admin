(this["webpackJsonppcbuilder-admin"]=this["webpackJsonppcbuilder-admin"]||[]).push([[21],{365:function(e,s,a){"use strict";s.a=a.p+"static/media/Showpass-show.ab5421f5.svg"},366:function(e,s,a){"use strict";s.a=a.p+"static/media/Hide.31c620fc.svg"},727:function(e,s,a){},728:function(e,s,a){},738:function(e,s,a){"use strict";a.r(s);var t=a(36),c=a(325),n=a(319),l=a(0),i=(a(727),a(728),a(365)),r=a(366),o=a(5),d=a(57),m=a(363),j=a(9),h=a(77),u=a(378),b=a.n(u);s.default=function(){var e=Object(l.useState)(!1),s=Object(t.a)(e,2),a=s[0],u=s[1],p=Object(l.useState)(!1),f=Object(t.a)(p,2),O=f[0],x=f[1],w=Object(l.useState)(!1),N=Object(t.a)(w,2),v=N[0],g=N[1],_=Object(d.c)((function(e){return e.profile.data})),C=Object(l.useRef)(null),P=Object(l.useState)(),y=Object(t.a)(P,2),S=(y[0],y[1]),F=Object(l.useState)(_?j.b+_.profile_pic:"avatars/user-avatar-default.png"),k=Object(t.a)(F,2),I=k[0],E=k[1],U=Object(l.useState)(!1),R=Object(t.a)(U,2),q=R[0],B=R[1],L=Object(d.b)(),V=function(){B(!q),J.setValues({first_name:_.first_name,last_name:_.last_name,email:_.email,phone:_.phone})},D=Object(m.a)({initialValues:{old_password:"",new_password:"",new_password_confirm:""},validateOnChange:!0,validateOnBlur:!0,validate:function(e){var s={};return e.old_password||(s.old_password="Old Password Required"),(String(e.new_password).length<8||!e.new_password||e.new_password!=e.new_password_confirm)&&(s.new_password="Invalid New Password"),s},onSubmit:function(e){var s=new FormData;console.log("values",e);for(var a=0,c=Object.entries(D.values);a<c.length;a++){var n=Object(t.a)(c[a],2),l=n[0],i=n[1];"new_password_confirm"!=l&&s.append(l,i)}j.a.put("auth/change/password/",s).then((function(e){console.log(e),200==e.status&&(D.resetForm(),b()("Updated","Your Password has been changed","success"))})).catch((function(e){400==e.response.status&&b()("Incorrect","Bad Request","warning")}))}}),H=function(e){var s=new FormData;s.append("profile_pic",e),console.log("image",e),j.c.post("auth/change/profile/image/"+localStorage.getItem(j.i)+"/",s).then((function(e){201==e.status&&b()("Updated!","Profile Picture Updated","success")})).catch((function(e){400==e.status&&b()("Incorrect","Bad Request","warning")}))};Object(l.useEffect)((function(){E(_.profile_pic?j.b+_.profile_pic:"avatars/user-avatar-default.png")}),[_]);var J=Object(m.a)({initialValues:{first_name:"",last_name:"",email:"",phone:""},validateOnChange:!0,validateOnBlur:!0,validate:function(e){var s={};return e.first_name||(s.first_name="First Name is required"),e.last_name||(s.last_name="Last Name is required"),e.email||(s.email="Email is required"),s},onSubmit:function(e){j.a.post("auth/profile/update/"+localStorage.getItem(j.i)+"/",J.values).then((function(e){console.log(e),201==e.status&&"True"==e.data.success&&(L(Object(h.b)(localStorage.getItem(j.i))),B(!1),b()("Updated!","Your Profile has been updated","success"))}))}});function T(e){return void 0!=e?e.charAt(0).toUpperCase()+e.slice(1).toLowerCase():""}return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)(n.k,{children:[Object(o.jsxs)(n.A,{alignment:"center",show:q,onClose:V,children:[Object(o.jsx)(n.C,{closeButton:!0,children:Object(o.jsx)(n.D,{className:"modal-title-profile",children:Object(o.jsx)("span",{className:"edit-profile-form-header",children:"Edit Profile Info"})})}),Object(o.jsx)(n.B,{children:Object(o.jsx)(n.k,{children:Object(o.jsx)(n.s,{children:Object(o.jsxs)(n.I,{children:[Object(o.jsxs)("div",{className:"col-md-6",children:[Object(o.jsx)(n.y,{className:"custom-label-5",htmlFor:"userFName",children:"First Name"}),Object(o.jsx)(n.w,{type:"text",name:"first_name",id:"first_name",className:"custom-forminput-6",value:J.values.first_name,onChange:J.handleChange})]}),Object(o.jsxs)("div",{className:"col-md-6",children:[Object(o.jsx)(n.y,{className:"custom-label-5",htmlFor:"userLName",children:"Last Name"}),Object(o.jsx)(n.w,{type:"text",name:"last_name",id:"last_name",className:"custom-forminput-6",value:J.values.last_name,onChange:J.handleChange})]}),Object(o.jsxs)("div",{className:"col-md-12",children:[Object(o.jsx)(n.y,{className:"custom-label-5",htmlFor:"uEmail",children:"Email"}),Object(o.jsx)(n.w,{type:"email",name:"email",id:"email",className:"custom-forminput-6",value:J.values.email,onChange:J.handleChange})]}),Object(o.jsxs)("div",{className:"col-md-12",children:[Object(o.jsx)(n.y,{className:"custom-label-5",htmlFor:"uPhoneNo",children:"Phone"}),Object(o.jsx)(n.w,{type:"tel",name:"phone",id:"phone",value:J.values.phone,onChange:J.handleChange,className:"custom-forminput-6"})]}),Object(o.jsx)("div",{className:"col-md-12 ",children:Object(o.jsxs)("div",{className:"project-form-button-holders mt-3",children:[Object(o.jsx)(n.f,{className:"profile-form-btn update-profile",onClick:J.handleSubmit,type:"button",disabled:!J.isValid,children:"Update Info"}),Object(o.jsx)(n.f,{className:"profile-form-btn cancel-update",type:"reset",onClick:function(){return B(!q)},children:"Cancel"})]})})]})})})})]}),Object(o.jsxs)(n.T,{activeTab:"viewProfile",children:[Object(o.jsxs)(n.E,{variant:"tabs",className:"tab-style",children:[Object(o.jsx)(n.F,{children:Object(o.jsxs)(n.G,{"data-tab":"viewProfile",className:"special",children:[Object(o.jsx)(c.b,{name:"cil-user"})," View Profile"]})}),Object(o.jsx)(n.F,{children:Object(o.jsxs)(n.G,{"data-tab":"changePassword",className:"special",children:[Object(o.jsx)(c.b,{name:"cil-pen-alt",className:"mr-1"}),"Change Password"]})})]}),Object(o.jsxs)(n.R,{children:[Object(o.jsx)(n.S,{"data-tab":"viewProfile",children:_&&Object(o.jsxs)(n.k,{children:[Object(o.jsx)("h3",{className:"profile-page-header",children:"Profile Details"}),Object(o.jsx)(n.I,{children:Object(o.jsx)("div",{className:"col-lg-8 offset-lg-2",children:Object(o.jsxs)(n.g,{className:"card-view-profile mt-3",children:[Object(o.jsxs)("div",{className:"user-profile-pic-div text-center",children:[Object(o.jsx)(n.v,{alt:"click to upload image",className:"mx-auto rounded-circle update-img",src:I}),Object(o.jsx)("input",{style:{display:"none"},ref:C,type:"file",onChange:function(e){!function(e){S(e),E(URL.createObjectURL(e)),H(e)}(e.target.files[0])}}),Object(o.jsxs)(n.f,{onClick:function(){C.current.click()},type:"button",className:"d-block mx-auto change-img-btn mt-1",children:[" ",Object(o.jsx)(c.b,{name:"cil-camera"})," Change Picture"]})]}),Object(o.jsxs)(n.h,{children:[Object(o.jsx)("hr",{}),Object(o.jsxs)(n.f,{className:"edit-profile mb-3",onClick:function(){return V()},children:[Object(o.jsx)(c.b,{name:"cil-pen",className:"mr-1"}),"Edit Info"]}),Object(o.jsxs)("div",{className:"row justify-content-center",children:[Object(o.jsxs)("div",{className:"col-md-6",children:[Object(o.jsx)("h5",{className:"info-header-1",children:"Full Name"}),Object(o.jsxs)("h5",{className:"project-details-points child",children:[T(_.first_name)+" "+T(_.last_name)," "]})]}),Object(o.jsxs)("div",{className:"col-md-6",children:[Object(o.jsx)("h5",{className:"info-header-1",children:" Email"}),Object(o.jsx)("h5",{className:"project-details-points child",children:_.email})]}),Object(o.jsxs)("div",{className:"col-md-6",children:[Object(o.jsx)("h5",{className:"info-header-1",children:"Job title"}),Object(o.jsxs)("h5",{className:"project-details-points child",children:["Front End Developer"," "]})]}),Object(o.jsxs)("div",{className:"col-md-6",children:[Object(o.jsx)("h5",{className:"info-header-1",children:" Phone"}),Object(o.jsx)("h5",{className:"project-details-points child",children:_.phone})]})]})]})]})})})]})}),Object(o.jsx)(n.S,{"data-tab":"changePassword",children:Object(o.jsxs)(n.k,{children:[Object(o.jsx)("h3",{className:"profile-page-header",children:"Change Password"}),Object(o.jsx)(n.I,{children:Object(o.jsx)("div",{className:"col-lg-8 offset-lg-2 col-md-12",children:Object(o.jsx)(n.g,{className:"mt-4 card-change-password",children:Object(o.jsx)(n.h,{children:Object(o.jsxs)(n.s,{children:[Object(o.jsxs)("div",{className:"mb-2",children:[Object(o.jsx)(n.y,{className:"custom-label-5",htmlFor:"userOldPass",children:"Old Password"}),Object(o.jsxs)("div",{className:"password-container",children:[Object(o.jsx)(n.w,{type:a?"text":"password",name:"old_password",id:"old_password",className:"custom-forminput-6",value:D.values.old_password,onChange:D.handleChange}),Object(o.jsx)("img",{className:"pwd-container-img",title:a?"Hide Old password":"Show Old password",src:a?i.a:r.a,onClick:function(){return u((function(e){return!e}))}})]})]}),Object(o.jsxs)("div",{className:"mb-2",children:[Object(o.jsx)(n.y,{className:"custom-label-5",htmlFor:"userNewPass",children:"New Password"}),Object(o.jsxs)("div",{className:"password-container",children:[Object(o.jsx)(n.w,{type:O?"text":"password",name:"new_password",id:"new_password",className:"custom-forminput-6",value:D.values.new_password,onChange:D.handleChange}),Object(o.jsx)("img",{className:"pwd-container-img",title:O?"Hide New password":"Show New password",src:O?i.a:r.a,onClick:function(){return x((function(e){return!e}))}})]})]}),Object(o.jsxs)("div",{className:"mb-2",children:[Object(o.jsx)(n.y,{className:"custom-label-5",htmlFor:"userConfPass",children:"Confirm Password"}),Object(o.jsxs)("div",{className:"password-container",children:[Object(o.jsx)(n.w,{type:v?"text":"password",name:"new_password_confirm",id:"new_password_confirm",className:"custom-forminput-6",value:D.values.new_password_confirm,onChange:D.handleChange}),Object(o.jsx)("img",{className:"pwd-container-img",title:v?"Hide Confirm password":"Show Confirm password",src:v?i.a:r.a,onClick:function(){return g((function(e){return!e}))}})]})]}),Object(o.jsxs)("div",{className:"project-form-button-holders mt-3",children:[Object(o.jsx)(n.f,{className:"profile-form-btn update-profile",disabled:!D.isValid,type:"button",onClick:D.handleSubmit,children:"Update Password"}),Object(o.jsx)(n.f,{className:"profile-form-btn cancel-update",type:"button",onClick:D.resetForm,children:"Cancel"})]})]})})})})})]})})]})]})]})})}}}]);
//# sourceMappingURL=21.1c6c7492.chunk.js.map