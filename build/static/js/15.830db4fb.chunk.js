(this["webpackJsonppcbuilder-admin"]=this["webpackJsonppcbuilder-admin"]||[]).push([[15],{326:function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n},e.exports.default=e.exports,e.exports.__esModule=!0},339:function(e,t,a){"use strict";var n=a(320),r=a(357),s=a(334),l=a(328),o=a(335),c=a(322),i=a(0),u=a.n(i),d=a(145),b=a(61),p=a(342),m=(a(100),a(343),a(336),a(329),a(352),a(341),a(321),a(23),i.Component,Object(r.a)(n.a));t.a=m},343:function(e,t,a){var n=a(344),r=a(345),s=a(346),l=a(347);e.exports=function(e){return n(e)||r(e)||s(e)||l()},e.exports.default=e.exports,e.exports.__esModule=!0},344:function(e,t,a){var n=a(326);e.exports=function(e){if(Array.isArray(e))return n(e)},e.exports.default=e.exports,e.exports.__esModule=!0},345:function(e,t){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.default=e.exports,e.exports.__esModule=!0},346:function(e,t,a){var n=a(326);e.exports=function(e,t){if(e){if("string"===typeof e)return n(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?n(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0},347:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},428:function(e,t,a){"use strict";var n=a(1),r=a(379),s=a(334),l=a(328),o=a(335),c=a(322),i=a(0),u=a.n(i),d=a(320),b=a(357),p=(a(329),a(336),a(352),a(341),a(321),a(23),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,n=String(e).toLowerCase(),r=String(a.getOptionValue(t)).toLowerCase(),s=String(a.getOptionLabel(t)).toLowerCase();return r===n||s===n}),m={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,t,a,n){return!(!e||t.some((function(t){return p(e,t,n)}))||a.some((function(t){return p(e,t,n)})))},getNewOptionData:function(e,t){return{label:t,value:e,__isNew__:!0}},getOptionValue:d.c,getOptionLabel:d.b},j=Object(c.j)({allowCreateWhileLoading:!1,createOptionPosition:"last"},m),f=function(e){var t,a;return a=t=function(t){Object(o.a)(i,t);var a=Object(c.i)(i);function i(e){var t;Object(s.a)(this,i),(t=a.call(this,e)).select=void 0,t.onChange=function(e,a){var n=t.props,s=n.getNewOptionData,l=n.inputValue,o=n.isMulti,i=n.onChange,u=n.onCreateOption,d=n.value,b=n.name;if("select-option"!==a.action)return i(e,a);var p=t.state.newOption,m=Array.isArray(e)?e:[e];if(m[m.length-1]!==p)i(e,a);else if(u)u(l);else{var j=s(l,l),f={action:"create-option",name:b,option:j};i(o?[].concat(Object(r.a)(Object(c.e)(d)),[j]):j,f)}};var n=e.options||[];return t.state={newOption:void 0,options:n},t}return Object(l.a)(i,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"render",value:function(){var t=this,a=this.state.options;return u.a.createElement(e,Object(n.a)({},this.props,{ref:function(e){t.select=e},options:a,onChange:this.onChange}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.allowCreateWhileLoading,n=e.createOptionPosition,s=e.formatCreateLabel,l=e.getNewOptionData,o=e.inputValue,i=e.isLoading,u=e.isValidNewOption,d=e.value,b=e.getOptionValue,p=e.getOptionLabel,m=e.options||[],j=t.newOption;return{newOption:j=u(o,Object(c.e)(d),m,{getOptionValue:b,getOptionLabel:p})?l(o,s(o)):void 0,options:!a&&i||!j?m:"first"===n?[j].concat(Object(r.a)(m)):[].concat(Object(r.a)(m),[j])}}}]),i}(i.Component),t.defaultProps=j,a}(d.a),h=Object(b.a)(f);t.a=h},429:function(e,t,a){},634:function(e,t,a){"use strict";a.r(t);var n=a(6),r=a.n(n),s=a(15),l=a(20),o=a(36),c=a(11),i=a(319),u=a(0),d=(a(429),a(428)),b=a(339),p=a(363),m=a(9),j=a(57),f=a(65),h=a(378),g=a.n(h),O=a(5);t.default=function(){var e={option:function(e,t){return Object(c.a)(Object(c.a)({},e),{},{fontSize:"14px !important"})}},t=Object(j.b)(),a=Object(u.useState)(),n=Object(o.a)(a,2),h=n[0],v=n[1],_=Object(u.useState)(),k=Object(o.a)(_,2),x=k[0],y=k[1],N=Object(u.useState)(),w=Object(o.a)(N,2),C=w[0],S=w[1],V=Object(u.useState)([]),P=Object(o.a)(V,2),F=P[0],L=P[1],M=Object(j.c)((function(e){return e.profile.data})),A=Object(j.c)((function(e){return e.projects.pm_projects})),I=Object(j.c)((function(e){return e.projects.tdo_list})),E=Object(u.useState)([]),T=Object(o.a)(E,2),D=T[0],B=T[1];function q(e){var t=[];return A.forEach((function(a,n){a.task_delivery_order==e&&t.push({value:a.sub_task,label:a.sub_task})})),t.filter((function(e,t,a){return a.findIndex((function(t){return t.sub_task===e.sub_task}))===t}))}var z=Object(u.useState)([]),W=Object(o.a)(z,2),J=W[0],H=W[1];function R(e){var t=[];return A.forEach((function(a,n){a.task_delivery_order==e&&t.push({value:a.work_package_number,label:a.work_package_number})})),t.filter((function(e,t,a){return a.findIndex((function(t){return t.work_package_number===e.work_package_number}))===t}))}var U=function(){G.resetForm(),y(null),v(null),S(null),L([])},$=function(){var e=Object(s.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("values",JSON.stringify(G.values)),m.a.post("project/create/",G.values).then((function(e){console.log(e),200==e.status&&"True"==e.data.success&&(U(),g()("Created!","Successfuly Created","success"))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=Object(p.a)({initialValues:{task_delivery_order:"",sub_task:"",work_package_number:"",task_title:"",estimated_person:"",planned_delivery_date:"",assignee:[],pm:localStorage.getItem(m.i),planned_hours:"",planned_value:"",remaining_hours:""},validateOnChange:!0,validateOnBlur:!0,validate:function(e){var t={};return e.task_delivery_order||(t.task_delivery_order="Task Delivery Order is required"),e.sub_task||(t.sub_task="Sub Task is required"),e.work_package_number||(t.work_package_number="Work Package Number is required"),e.task_title||(t.task_title="Task title is required"),t},onSubmit:$});return Object(u.useEffect)((function(){m.a.get("auth/assignee/list/").then((function(e){console.log("assignees",e.data.data);var t=[];Array.from(e.data.data).forEach((function(e,a){t.push({value:e.id,label:e.first_name+" "+e.last_name})})),L(t)}))}),[]),Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(i.k,{children:Object(O.jsx)(i.I,{children:Object(O.jsx)("div",{className:"col-lg-10 offset-lg-1 col-sm-12",children:Object(O.jsxs)(i.g,{className:"custom-project-card-1",children:[Object(O.jsxs)(i.i,{className:"project-header-3",children:[" ",Object(O.jsx)("h4",{className:"section-name-projectcreate",children:"Create a new project"})]}),Object(O.jsx)(i.h,{children:Object(O.jsx)(i.k,{children:Object(O.jsx)(i.s,{children:Object(O.jsxs)(i.I,{children:[Object(O.jsxs)("div",{className:"col-lg-12 mb-3",children:[Object(O.jsx)(i.y,{className:"custom-label-5",htmlFor:"tdo","aria-labelledby":"tdo",children:"Task Delivery Order *"}),Object(O.jsx)(d.a,{closeMenuOnSelect:!0,"aria-labelledby":"tdo",id:"tdo",placeholder:"Select from list or create new",isClearable:!0,onChange:function(e,t){console.log("action: ".concat(t.action)),"select-option"==t.action?(G.setFieldValue("task_delivery_order",e.value),v(e),B(q(e.value)),H(R(e.value)),console.group("Value Changed",e.value),console.log("form values",G.values),console.groupEnd()):"clear"==t.action&&(v(null),G.setFieldValue("task_delivery_order",""))},onInputChange:function(e,t){console.log("action: ".concat(t.action)),console.groupEnd()},onCreateOption:function(e){G.setFieldValue("task_delivery_order",e),t(Object(f.f)({value:e,label:e})),B(q(e)),H(R(e)),v({value:e,label:e}),console.group("setting value",e)},classNamePrefix:"custom-forminput-6",value:h,options:I,styles:e}),G.errors.task_delivery_order&&Object(O.jsx)("p",{className:"error",style:{fontSize:"14px !important"},children:G.errors.task_delivery_order})]}),Object(O.jsxs)("div",{className:"col-lg-6 mb-3",children:[Object(O.jsx)(i.y,{className:"custom-label-5",htmlFor:"sTask",children:"Subtask *"}),Object(O.jsx)(d.a,{closeMenuOnSelect:!0,"aria-labelledby":"sub_task",id:"sub_task",placeholder:"Select from list or create new",isClearable:!0,onChange:function(e,t){"select-option"==t.action?(console.log("handle sub task change"),y(e),G.setFieldValue("sub_task",e.value)):"clear"==t.action&&(y(null),G.setFieldValue("sub_task",""))},onInputChange:function(e,t){},onCreateOption:function(e){G.setFieldValue("sub_task",e),B([].concat(Object(l.a)(D),[{value:e,label:e}])),H(R(e)),y({value:e,label:e}),console.group("setting value",e)},classNamePrefix:"custom-forminput-6",value:x,options:D,getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},styles:e}),G.errors.sub_task&&Object(O.jsx)("p",{className:"error",style:{fontSize:"14px !important"},children:G.errors.sub_task})]}),Object(O.jsxs)("div",{className:"col-lg-6 mb-3",children:[Object(O.jsx)(i.y,{className:"custom-label-5",htmlFor:"workPackageNo",children:"Work Package Number *"}),Object(O.jsx)(d.a,{closeMenuOnSelect:!0,"aria-labelledby":"workPackageNo",id:"workPackageNo",placeholder:"Select from list or create new",isClearable:!0,onChange:function(e,t){"select-option"==t.action?(console.log("selected work package",e),S(e),G.setFieldValue("work_package_number",String(e.value))):"clear"==t.action&&(S(null),G.setFieldValue("work_package_number",""))},onInputChange:function(e,t){"input-change"==t.action&&G.setFieldValue("work_package_number",String(e))},onCreateOption:function(e){S({value:e,label:e}),H([].concat(Object(l.a)(J),[{value:e,label:e}])),G.setFieldValue("work_package_number",String(e))},classNamePrefix:"custom-forminput-6",value:C,options:J,getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},styles:e}),G.errors.work_package_number&&Object(O.jsx)("p",{className:"error",style:{fontSize:"14px !important"},children:G.errors.work_package_number})]}),Object(O.jsxs)("div",{className:"col-lg-12 mb-3",children:[Object(O.jsx)(i.y,{className:"custom-label-5",children:"Task Title"}),Object(O.jsx)(i.w,{id:"task_title",name:"task_title",value:G.values.task_title,onChange:G.handleChange,className:"custom-forminput-6"})]}),Object(O.jsxs)("div",{className:"col-lg-5 mb-3",children:[Object(O.jsx)(i.y,{className:"custom-label-5",children:"Estimated Person(s)"}),Object(O.jsx)(i.w,{id:"estimated_person",type:"number",name:"estimated_person",value:G.values.estimated_person,onChange:G.handleChange,className:"custom-forminput-6"})]}),Object(O.jsxs)("div",{className:"col-lg-7 mb-3",children:[Object(O.jsx)(i.y,{className:"custom-label-5",htmlFor:"workerBees","aria-labelledby":"workerBees",children:"Assignee(s)"}),Object(O.jsx)(b.a,{closeMenuOnSelect:!1,"aria-labelledby":"workerBees",id:"workerBees",minHeight:"35px",placeholder:"Select from list",isClearable:!0,isMulti:!0,onChange:function(e,t){if("select-option"==t.action){console.log("selected assignee",e);var a=[];e.forEach((function(e,t){a.push(Number(e.value))})),G.setFieldValue("assignee",a)}console.log(e,t.action)},classNamePrefix:"custom-forminput-6",options:F||[],styles:e})]}),Object(O.jsxs)("div",{className:"col-lg-6 mb-3",children:[Object(O.jsx)(i.y,{className:"custom-label-5",children:"PM(s)"}),Object(O.jsx)(i.w,{className:"custom-forminput-6",value:M.first_name+" "+M.last_name,readOnly:!0})]}),Object(O.jsxs)("div",{className:"col-lg-6 mb-3",children:[Object(O.jsx)(i.y,{className:"custom-label-5",children:"Planned Delivery Date"}),Object(O.jsx)(i.w,{id:"planned_delivery_date",name:"planned_delivery_date",value:G.values.planned_delivery_date,onChange:G.handleChange,className:"custom-forminput-6",type:"date"})]}),Object(O.jsxs)("div",{className:"col-lg-4 mb-3",children:[Object(O.jsx)(i.y,{className:"custom-label-5",children:"Planned Value"}),Object(O.jsx)(i.w,{id:"planned_value",name:"planned_value",value:G.values.planned_value,onChange:G.handleChange,className:"custom-forminput-6"})]}),Object(O.jsxs)("div",{className:"col-lg-4 mb-3",children:[Object(O.jsx)(i.y,{className:"custom-label-5",children:"Planned hr(s)"}),Object(O.jsx)(i.w,{id:"planned_hours",name:"planned_hours",value:G.values.planned_hours,onChange:G.handleChange,className:"custom-forminput-6"})]}),Object(O.jsxs)("div",{className:"col-lg-4 mb-3",children:[Object(O.jsx)(i.y,{className:"custom-label-5",children:"Remaining hr(s)"}),Object(O.jsx)(i.w,{id:"remaining_hours",name:"remaining_hours",value:G.values.remaining_hours,onChange:G.handleChange,className:"custom-forminput-6"})]}),Object(O.jsx)("div",{className:"col-md-12",children:Object(O.jsxs)("div",{className:"project-form-button-holders mt-3",children:[Object(O.jsx)(i.f,{type:"button",onClick:G.handleSubmit,className:"create-btn-prjct create-prjct",children:"Create Project"}),Object(O.jsx)(i.f,{type:"button",onClick:U,className:"create-btn-prjct cancel-prjct",children:"Cancel"})]})})]})})})})]})})})})})}}}]);
//# sourceMappingURL=15.830db4fb.chunk.js.map