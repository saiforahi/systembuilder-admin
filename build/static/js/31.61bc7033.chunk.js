(this["webpackJsonppcbuilder-admin"]=this["webpackJsonppcbuilder-admin"]||[]).push([[31],{642:function(e,t,a){},737:function(e,t,a){"use strict";a.r(t);var s=a(36),l=a(319),n=a(0),c=a.n(n),d=(a(642),a(643)),i=a.n(d),r=a(57),o=a(363),u=a(9),b=a(378),j=a.n(b),m=a(5),h=function(e){var t,a;console.log("props data: ",e.data);var s=Object(o.a)({initialValues:{title:e.data.title,status:e.data.status,description:e.data.description,start_date:e.data.start_date,end_date:e.data.end_date,hours_worked:e.data.hours_worked,progress:e.data.progress,comments:e.data.comments,deliverable:e.data.deliverable,date_updated:""},validateOnChange:!0,validateOnBlur:!0,validate:function(e){var t={};return e.title||(t.title="Title is required!"),console.log(t),t},onSubmit:function(t){return console.log("formWbsUpdate:",s.values),void u.f.put("wbs/update/"+e.data.id+"/",s.values).then((function(t){console.log("update result",t),200==t.status&&"True"==t.data.success&&(j()({title:"Good job!",text:t.data.message,icon:"success"}),e.onClose())}))}});return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(l.A,{show:e.show,onClose:e.toggle,size:"xl",children:[Object(m.jsxs)(l.C,{closeButton:!0,children:[e.data.project&&e.data.project.task_delivery_order+" > ",e.data.project&&Object(m.jsx)("a",{href:"https://www.google.com",target:"_blank",children:e.data.project.sub_task})]}),Object(m.jsx)(l.B,{children:Object(m.jsxs)(l.I,{children:[Object(m.jsx)("div",{className:"col-lg-8 mb-3 border-right",children:Object(m.jsxs)(l.s,{children:[Object(m.jsxs)(l.I,{children:[Object(m.jsxs)("div",{className:"col-lg-9 mb-3",children:[Object(m.jsx)(l.y,{className:"custom-label-wbs5",children:"Title"}),Object(m.jsx)(l.w,{id:"title",name:"title",className:"custom-forminput-5",onChange:s.handleChange,value:s.values.title})]}),Object(m.jsxs)("div",{className:"col-lg-3 mb-3",children:[Object(m.jsx)(l.y,{className:"custom-label-wbs5",children:"Status"}),Object(m.jsx)("select",{className:"form-select",onChange:s.handleChange,value:s.values.status,children:[{title:"To Do",status:1},{title:"Ongoing",status:2},{title:"Done",status:3}].map((function(e,t){return Object(m.jsx)("option",{value:e.status,children:e.title},t)}))})]})]}),Object(m.jsx)(l.I,{children:Object(m.jsxs)("div",{className:"col-lg-12 mb-3",children:[Object(m.jsx)(l.y,{className:"custom-label-wbs5",children:"Descriptions"}),Object(m.jsx)(l.U,{id:"description",name:"description",className:"custom-forminput-5",onChange:s.handleChange,value:s.values.description})]})}),Object(m.jsxs)(l.I,{children:[Object(m.jsxs)("div",{className:"col-lg-6 mb-3",children:[Object(m.jsx)(l.y,{className:"custom-label-wbs5",children:"Start date"}),Object(m.jsx)(l.w,{id:"start_date",name:"start_date",type:"date",className:"custom-forminput-5",onChange:s.handleChange,value:s.values.start_date})]}),Object(m.jsxs)("div",{className:"col-lg-6 mb-3",children:[Object(m.jsx)(l.y,{className:"custom-label-wbs5",children:"End date"}),Object(m.jsx)(l.w,{id:"end_date",name:"end_date",type:"date",className:"custom-forminput-5",onChange:s.handleChange,value:s.values.end_date})]})]}),Object(m.jsxs)(l.I,{children:[Object(m.jsxs)("div",{className:"col-lg-6 mb-3",children:[Object(m.jsx)(l.y,{className:"custom-label-wbs5",children:"Hours worked"}),Object(m.jsx)(l.w,{id:"hours_worked",name:"hours_worked",type:"number",className:"custom-forminput-5",onChange:s.handleChange,value:s.values.hours_worked})]}),Object(m.jsxs)("div",{className:"col-lg-6 mb-3",children:[Object(m.jsx)(l.y,{className:"custom-label-wbs5",children:"Progress(%)"}),Object(m.jsx)(l.w,{id:"progress",name:"progress",type:"number",className:"custom-forminput-5",onChange:s.handleChange,value:s.values.progress})]})]}),Object(m.jsx)(l.I,{children:Object(m.jsxs)("div",{className:"col-lg-12 mb-3",children:[Object(m.jsx)(l.y,{className:"custom-label-wbs5",children:"Comments"}),Object(m.jsx)(l.U,{id:"comments",name:"comments",className:"custom-forminput-5",onChange:s.handleChange,value:s.values.comments})]})}),Object(m.jsx)(l.I,{children:Object(m.jsxs)("div",{className:"col-lg-12 mb-3",children:[Object(m.jsx)(l.y,{className:"custom-label-wbs5",children:"Deliverable"}),Object(m.jsx)(l.w,{id:"deliverable",name:"deliverable",className:"custom-forminput-5",onChange:s.handleChange,value:s.values.deliverable})]})}),Object(m.jsxs)("div",{children:[Object(m.jsx)(l.f,{type:"button",onClick:s.handleSubmit,color:"primary",children:"Update"})," ",Object(m.jsx)(l.f,{color:"secondary",onClick:e.toggle,children:"Cancel"})]})]})}),Object(m.jsx)("div",{className:"col-lg-4 mb-3",children:Object(m.jsxs)("div",{children:[Object(m.jsxs)("p",{children:["Reporter:",Object(m.jsx)("br",{}),void 0!=(null===(t=e.data.reporter)||void 0===t?void 0:t.first_name)&&e.data.reporter.first_name+" "+e.data.reporter.last_name]}),Object(m.jsxs)("p",{children:["Remaining hours:",Object(m.jsx)("br",{}),"500",null===(a=e.data.reporter)||void 0===a?void 0:a.remaining_hours]})]})})]})})]})})},O=a(71);a(325),t.default=function(){var e=Object(r.c)((function(e){return e.wbs.data})),t=Object(r.b)(),a=Object(n.useState)({lanes:[{id:"lane1",title:"TO DO",label:"",cards:[]},{id:"lane2",title:"IN PROGRESS",label:"",cards:[]},{id:"lane3",title:"DONE",label:"",cards:[]}]}),l=Object(s.a)(a,2),d=l[0],o=l[1];c.a.useEffect((function(){!function(){console.log("populating data");var t={lanes:[{id:"lane1",title:"TO DO",label:"",cards:[]},{id:"lane2",title:"IN PROGRESS",label:"",cards:[]},{id:"lane3",title:"DONE",label:"",cards:[]}]};void 0!=e&&e.forEach((function(e){1===e.status?(t.lanes[0].cards.push({id:e.id.toString(),laneId:"lane1",title:e.title,description:e.description,label:"\u2605 "+e.end_date}),console.log("1",t)):2===e.status?(t.lanes[1].cards.push({id:e.id.toString(),laneId:"lane2",title:e.title,description:e.description,label:"\u2605 "+e.end_date}),console.log("2",t)):3===e.status&&(t.lanes[2].cards.push({id:e.id.toString(),laneId:"lane3",title:e.title,description:e.description,label:"\u2605 "+e.end_date}),console.log("3",t))})),o(t)}()}),[e]);var u,b="",j=Object(n.useState)(!1),g=Object(s.a)(j,2),p=g[0],v=g[1],x=Object(n.useState)(null),f=Object(s.a)(x,2),N=f[0],C=f[1];return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(i.a,{data:d,hideCardDeleteIcon:!0,onCardClick:function(t,a,s){u=s,b=t;var l=d.lanes.find((function(e){return e.id==u})).cards.find((function(e){return e.id==b})).id;C(e.find((function(e){return e.id==l}))),v(!0)},style:{backgroundColor:"#fff"},laneStyle:{backgroundColor:"rgb(243 243 243)"}}),null!=N&&Object(m.jsx)(h,{show:p,onClose:function(){v(!1),t(Object(O.c)(5)),C(null)},toggle:function(){C(null),v(!p)},data:N})]})}}}]);
//# sourceMappingURL=31.61bc7033.chunk.js.map